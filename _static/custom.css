/* docs/_static/custom.css */

/* -----------------------------
   ETAMU theme tokens
   ----------------------------- */
:root{
  --etamu-blue:#0033A0;
  --etamu-gold:#F2A900;
  --etamu-gold-light: rgba(242,169,0,.15);

  /* Let the browser know we support both */
  color-scheme: light dark;
}

/* -----------------------------
   etamu-exercise styling
   ----------------------------- */

/* If sphinx_exercise renders as an admonition with extra classes */
div.admonition.exercise{
  background-color: var(--etamu-gold-light);
  border-left: 5px solid var(--etamu-gold);
}
div.admonition.exercise > .admonition-title{
  background-color: var(--etamu-gold);
  color:#222;
  font-weight:600;
}

/* If sphinx_exercise uses a custom wrapper class */
div.exercise{
  background-color: var(--etamu-gold-light);
  border-left: 5px solid var(--etamu-gold);
}
div.exercise > .admonition-title,
div.exercise > p.admonition-title{
  background-color: var(--etamu-gold);
  color:#222;
  font-weight:600;
}

/* -----------------------------
   Blockquotes
   ----------------------------- */
blockquote{
  border-left: 4px solid var(--etamu-blue);
  padding: 0.75em 1em;
  margin: 1em 0;
  color: inherit;
}

/* -----------------------------
   Figure captions (robust in mobile + dark mode)
   ----------------------------- */

/* Baseline: follow theme text when available */
figure figcaption,
figure figcaption p{
  color: var(--pst-color-text-base, inherit);
  opacity: 1;
}

/* Explicitly keep Fig. # and caption text visible */
figure figcaption .caption-number{
  color: inherit;
  opacity: 1;
  font-weight: 700;
}
figure figcaption .caption-text{
  color: inherit;
  opacity: 1;
}

/* Headerlink "#" should stay visible but not loud */
figure figcaption a.headerlink{
  color: inherit;
  opacity: 0.7;
}

/* If the theme sets a data-theme attribute (Sphinx Book / PyData) */
html[data-theme="light"] figure figcaption,
html[data-theme="light"] figure figcaption p{
  color: #222;
}

html[data-theme="dark"] figure figcaption,
html[data-theme="dark"] figure figcaption p{
  color: rgba(255, 255, 255, 0.85);
}

/* Ensure captions inside admonitions stay readable */
.admonition figure figcaption,
.bd-content figure figcaption{
  color: var(--pst-color-text-base, inherit);
  opacity: 1;
}

/* Fallback for environments without data-theme */
@media (prefers-color-scheme: dark){
  figure figcaption,
  figure figcaption p{
    color: rgba(255, 255, 255, 0.85);
  }
}

/* -----------------------------
   Dark-mode compatibility tweaks
   ----------------------------- */
@media (prefers-color-scheme: dark){
  :root{
    /* darker-tinted gold background so it doesn't glow */
    --etamu-gold-light: rgba(242,169,0,.18);
  }

  /* Exercises/admonitions */
  div.admonition.exercise,
  div.exercise{
    background-color: rgba(242,169,0,.10);
    border-left-color: var(--etamu-gold);
  }

  /* Title bar */
  div.admonition.exercise > .admonition-title,
  div.exercise > .admonition-title,
  div.exercise > p.admonition-title{
    background-color: var(--etamu-gold);
    color: #111;
  }

  /* Blockquotes: darker surface */
  blockquote{
    background-color: rgba(255,255,255,.06);
    border-left-color: var(--etamu-blue);
    color: rgba(255,255,255,.88);
  }

  /* Caption number visibility in dark mode */
  figure figcaption .caption-number{
    color: rgba(255,255,255,.90);
  }
}

/* -----------------------------
   Responsive video embed helper
   ----------------------------- */
.video-container{
  position: relative;
  width: 100%;
  max-width: 100%;
  aspect-ratio: 16 / 9;
  margin: 1em auto;
}

.video-container iframe{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  border: 0;
  display: block;
}

/* Optional styling for video captions */
.video-caption{
  text-align: center;
  font-size: 0.95em;
  margin-top: 0.5em;
  opacity: 0.85;
  color: var(--pst-color-text-base, #666);
}
